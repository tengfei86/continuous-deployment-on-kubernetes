= Authentication

PDM API is authorized by _keycloak_, so when you call the API you need to set RequestHeader `Authorization`: `token`.

In this document, let’s see how to get token.

== 1. Request URL for get token

/{PDM Privilege service domain}/msp/auth/token

*HTTP Method：* POST

== 2. Request headers

[cols=",",options="header",]
|===
|Name |Value
|Content-Type |application/json
|===

== 3. Request body

[width="100%",cols="17%,5%,6%,52%,20%",options="header",]
|===
|Name |Type |Required |Example |Description
|keycloakServerURL |string |yes |https://dssecurity.tiger4.dazlmkengdev01.landmarksoftware.cloud/auth |keycloak url
|keycloakRealmName |string |yes |DecisionSpace_Integration_Server |keycloak realm name
|keycloakClientName |string |yes |dsis-config |keycloak client name
|username |string |yes |admin |user name for get token
|userPass |string |yes |admin |user password
|===

== 4. Response body

[width="100%",cols="9%,6%,32%,53%",options="header",]
|===
|Name |Type |Example |Description
|code |string |200 |Return 200 means success, other codes means failure.
|data |string |eyJhbGciOiJSUzI… |token
|messages |string |[``Token generated successfully''] |Detailed information corresponding to the code.
|===

== 5. Example of Postman

____
Request Headers
____

image::getTokenPostman1.png[title="Request Header"]

image::getTokenPostman2.png[title="Request Body"]
